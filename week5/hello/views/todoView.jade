head
	meta(charset="utf-8")
	meta(name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no")
	title Xem danh sách công việc
	link(rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css")

body(class="container" style="background:rgb(255, 216, 0)")
	div(class="h-100 d-flex align-items-center justify-content-center")
		form( action="/todo" method="post" class="col-xl-10")
			div(class="card")
				div(class="card-body p-5")
					ul(class="nav nav-tabs mb-5")
						li(class="nav-item")
							a(class="nav-link active" id="all-tab" data-bs-toggle="tab" href="#all") Tất cả
						li(class="nav-item")
							a(class="nav-link" id="active-tab" data-bs-toggle="tab" href="#active") Chưa hoàn thành
						li(class="nav-item")
							a(class="nav-link" id="completed-tab" data-bs-toggle="tab" href="#completed") Đã hoàn thành

					div(class="tab-content")
						div(class="tab-pane active" id="all")
							ul(class="mb-4 list-group rounded-0")
								each todo in todos
									li(class="list-group-item d-flex align-items-center border-0 mb-2 rounded" style="background-color: #f4f6f7;")
										-var link = '/todo/' + todo.id
										-var id = todo.id
										case todo.is_done
											when true
												input(class="form-check-input me-2" name= id type="checkbox" checked)
											when false 
												input(class="form-check-input me-2" name= id type="checkbox")
										a(href= link)= todo.title
						div(class="tab-pane" id="active")
							ul(class="mb-4 list-group rounded-0")
								each todo in todos_active
									li(class="list-group-item d-flex align-items-center border-0 mb-2 rounded" style="background-color: #f4f6f7;")
										div= todo.title
						div(class="tab-pane" id="completed")
							ul(class="mb-4 list-group rounded-0")
								each todo in todos_completed
									li(class="list-group-item d-flex align-items-center border-0 mb-2 rounded" style="background-color: #f4f6f7;")
										div= todo.title

					div(class="d-flex justify-content-end row-xs-1 gx-5")
						div(class="col-md-2 mr-5 d-flex justify-content-end")
							button(type="submit" name="save" class="btn btn-primary btn-block col-10") Lưu

						div(class="col-md-2 d-flex justify-content-end")
							button(type="submit" name="delete" class="btn btn-primary btn-block col-10") Xóa

	script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js")